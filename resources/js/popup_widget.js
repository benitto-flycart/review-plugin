/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/popup-widget.ts":
/*!*****************************!*\
  !*** ./src/popup-widget.ts ***!
  \*****************************/
/***/ (function() {

eval("\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n//@ts-ignore\njQuery(document).ready(function ($) {\n    var _a, _b, _c, _d, _e;\n    //@ts-ignore\n    var review_popup_widget_js_data = window.review_popup_widget_js_data;\n    var settings = {\n        position: (_a = review_popup_widget_js_data.position) !== null && _a !== void 0 ? _a : \"top_right\",\n        corner_radius: (_b = review_popup_widget_js_data.corner_radius) !== null && _b !== void 0 ? _b : \"sharp\",\n        initial_delay: (_c = review_popup_widget_js_data.initial_delay) !== null && _c !== void 0 ? _c : 3000,\n        delay_between: (_d = review_popup_widget_js_data.delay_between) !== null && _d !== void 0 ? _d : 2000,\n        display_time: (_e = review_popup_widget_js_data.display_time) !== null && _e !== void 0 ? _e : 2000,\n    };\n    (function POPUP_WIDGET_DEFAULT() {\n        var template = document.getElementById(\"r_rpw_popup_widget_container\");\n        // Get the host element where the Shadow DOM will be attached\n        var host = document.getElementById(\"r_rpw_popup_widget_container_wrapper\");\n        var shadowRoot = host.attachShadow({ mode: \"open\" });\n        shadowRoot.appendChild(template.content.cloneNode(true));\n        template.remove();\n        var current_page = 1;\n        var POPUP_WIDGET = {\n            init: function () {\n                var container = shadowRoot.querySelector(\"#r_puw_container_wrapper\");\n                var fetchData = function () {\n                    $.ajax(review_popup_widget_js_data.ajax_url, {\n                        method: \"POST\",\n                        data: __assign(__assign({ action: review_popup_widget_js_data.action, method: \"popup_widget_template\", _wp_nonce: review_popup_widget_js_data._wp_nonce, _wp_nonce_key: review_popup_widget_js_data._wp_nonce_key, contentType: \"application/x-www-form-urlencoded\", is_product_page: review_popup_widget_js_data.is_product_page }, (review_popup_widget_js_data.is_product_page\n                            ? { product_id: review_popup_widget_js_data.product_id }\n                            : {})), { current_page: current_page }),\n                    })\n                        .then(function (response) {\n                        var _a, _b, _c, _d;\n                        var response_data = response.data;\n                        current_page++;\n                        if (container) {\n                            var isHovered_1 = false;\n                            $(container).html(response_data.template);\n                            var closeIcon = shadowRoot.querySelector(\".r_puw_close-icon\");\n                            closeIcon.addEventListener(\"click\", function () {\n                                $(container).hide();\n                            });\n                            var popupWidgetContainer_1 = shadowRoot.querySelector(\".r_puw_container\");\n                            // @ts-ignore\n                            if (settings.position == \"top_left\") {\n                                (_a = $(popupWidgetContainer_1)) === null || _a === void 0 ? void 0 : _a.addClass(\"r_puw-popup_top-left_slide-in\").removeClass(\"r_puw-popup_top-left_slide-out\");\n                                $(host).addClass(\"r_outer-puw-top_left\");\n                            }\n                            else if (settings.position == \"bottom_right\") {\n                                (_b = $(popupWidgetContainer_1)) === null || _b === void 0 ? void 0 : _b.addClass(\"r_puw-popup_bottom-right_slide-in\").removeClass(\"r_puw-popup_bottom-right_slide-out\");\n                                $(host).addClass(\"r_outer-puw-bottom_right\");\n                            }\n                            else if (settings.position == \"top_right\") {\n                                (_c = $(popupWidgetContainer_1)) === null || _c === void 0 ? void 0 : _c.addClass(\"r_puw-popup_top-right_slide-in\").removeClass(\"r_puw-popup_top-right_slide-out\");\n                                $(host).addClass(\"r_outer-puw-top_right\");\n                            }\n                            else {\n                                (_d = $(popupWidgetContainer_1)) === null || _d === void 0 ? void 0 : _d.addClass(\"r_puw-popup_bottom-left_slide-in\").removeClass(\"r_puw-popup_bottom-left_slide-out\");\n                                $(host).addClass(\"r_outer-puw-bottom_left\");\n                            }\n                            $(container).show();\n                            container.addEventListener(\"mouseover\", function () {\n                                isHovered_1 = true;\n                            });\n                            if (!isHovered_1) {\n                                setTimeout(function () {\n                                    var _a, _b, _c, _d;\n                                    //@ts-ignore\n                                    if (settings.position == \"top_left\") {\n                                        (_a = $(popupWidgetContainer_1)) === null || _a === void 0 ? void 0 : _a.addClass(\"r_puw-popup_top-left_slide-out\").removeClass(\"r_puw-popup_top-left_slide-in\");\n                                        $(host).addClass(\"r_outer-puw-top_left\");\n                                    }\n                                    else if (settings.position == \"bottom_right\") {\n                                        (_b = $(popupWidgetContainer_1)) === null || _b === void 0 ? void 0 : _b.addClass(\"r_puw-popup_bottom-right_slide-out\").removeClass(\"r_puw-popup_bottom-right_slide-in\");\n                                        $(host).addClass(\"r_outer-puw-bottom_right\");\n                                    }\n                                    else if (settings.position == \"top_right\") {\n                                        (_c = $(popupWidgetContainer_1)) === null || _c === void 0 ? void 0 : _c.addClass(\"r_puw-popup_top-right_slide-out\").removeClass(\"r_puw-popup_top-right_slide-in\");\n                                        $(host).addClass(\"r_outer-puw-top_right\");\n                                    }\n                                    else {\n                                        (_d = $(popupWidgetContainer_1)) === null || _d === void 0 ? void 0 : _d.addClass(\"r_puw-popup_bottom-left_slide-out\").removeClass(\"r_puw-popup_bottom-left_slide-in\");\n                                        $(host).addClass(\"r_outer-puw-bottom_left\");\n                                    }\n                                    setTimeout(function () {\n                                        $(container).hide();\n                                    }, 1000);\n                                    setTimeout(fetchData, settings.delay_between);\n                                }, settings.display_time);\n                            }\n                        }\n                    })\n                        .catch(function (error) {\n                        console.log(error);\n                        console.log(\"error occurred\");\n                    });\n                };\n                setTimeout(fetchData, settings.initial_delay);\n            },\n        };\n        POPUP_WIDGET.init();\n    })();\n});\n\n\n//# sourceURL=webpack://scripts/./src/popup-widget.ts?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./src/popup-widget.ts"]();
/******/ 	
/******/ })()
;